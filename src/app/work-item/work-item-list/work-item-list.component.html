<app-header></app-header>
<div class="container-fluid container-cards-pf">
<button class="btn btn-primary" (click)="addWorkItem()">Add New Work Item</button>
<div *ngIf="addingWorkItem">
  <work-item-detail (close)="close($event)"></work-item-detail>
</div>
<br /><br />
<div class="container-fluid">
	<div class="list-group list-view-pf list-view-pf-view">
		<div *ngFor="let workItem of workItems">
			<div class="list-group-item" (click)="onSelect(workItem)" [class.selected]="workItem === selectedWorkItem">
				<div class="list-view-pf-actions">
					<button class="btn btn-default" (click)="gotoDetail(workItem)">View Details</button>
					<button class="btn btn-default delete-button" (click)="deleteWorkItem(workItem, $event)">Delete</button>
					<div class="dropdown pull-right dropdown-kebab-pf">
						<button class="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
							<span class="fa fa-ellipsis-v"></span>
						</button>
						<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight">
							<li><a href="#">Delete</a></li>
							<li><a href="#">Move to backlog</a></li>
							<li><a href="#">Change Status</a></li>
						</ul>
					</div>
				</div>
				<div class="list-view-pf-main-info">
					<div class="list-view-pf-left status">
						<span class="label" [ngClass]="{'label-warning': workItem.statusCode==0, 'label-primary': workItem.statusCode==1, 'label-success': workItem.statusCode==2 }">{{workItem.status}}</span>
					</div>
					<div class="list-view-pf-left type">
						<span class='fa' [ngClass]="{'fa-bookmark': workItem.workItemType=='story', 'fa-bug':workItem.workItemType=='bug'}"></span>
							{{workItem.id}}
      		</div>
	      <div class="list-view-pf-body">
	        <div class="list-view-pf-description">
	          <div class="list-group-item-heading">
	             {{workItem.name}}
	          </div>
						<div class="list-group-item-text">
            	{{workItem.description}}
          	</div>
	        </div>
	      </div>
    	</div>
			</div>
			<div *ngIf="workItem.isExpanded" class="work-item-details" >
      			{{workItem.name | uppercase}} - {{workItem.description}}
				<hr />
      		</div>
		</div>
	</div>
</div>
<div class="error" *ngIf="error">{{error}}</div>
</div>
<app-footer></app-footer>
